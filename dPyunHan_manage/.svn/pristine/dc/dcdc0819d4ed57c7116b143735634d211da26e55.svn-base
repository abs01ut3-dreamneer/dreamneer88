<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>
<link rel="stylesheet" href="/css/filter.css">

<style>
/* ê³µí†µ ì¹´ë“œë³„ ìƒë‹¨ ì˜ì—­ ì‹œì‘ */
body { /* ê·¸ëƒ¥ í°íŠ¸ */
	font-family: 'Noto Sans KR', 'Source Sans Pro', sans-serif;
}

.card {
	padding: 0.3rem !important;
	border-radius: 1.5rem !important;
	overflow: hidden !important;
	box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15) !important;
}

.card-header .card-title {
	font-size: 1.2rem !important; /* ê¸€ì í¬ê¸° */
	font-weight: 700 !important;
	/* ê¸€ì ë‘ê»˜ ì‚´ì§ êµµê²Œ  400ì´ ê¸°ë³¸, 700ì´ bordì •ë„ ì…ë‹ˆë‹¤. */
	padding-top: 4px !important; /* ìƒë‹¨íŒ¨ë”©*/
	padding-bottom: 4px !important;
}
/* ê³µí†µ ì¹´ë“œë³„ ìƒë‹¨ ì˜ì—­ ë */
.card-body {
	padding: 1rem !important;
}

.card-footer {
	padding: 1rem !important;
}
/* ê³µí†µ í…Œì´ë¸” ê°„ê²©ì„ ì¤„ ê°„ê²© ë§ì¶”ê¸°. table ìƒì„±ì‹œ ê¼­ ì‚¬ìš©í•˜ì„¸ìš” ì‹œì‘ */
.tight-table, .tight-table th, .tight-table td {
	padding: 3px 5px !important; /* í…Œì´ë¸”ë“¤ í–‰ê°„ê²© */
	overflow: hidden !important; /* ì‚ì ¸ë‚˜ê°€ëŠ”ê±° ì¡ì•„ì¤˜ìš” */
	text-overflow: ellipsis; /* ê¸¸ì–´ì§„ ê¸€ì€ ...ì²˜ë¦¬ */
	white-space: nowrap; /* ì¤„ë°”ê¿ˆ X */
	text-align: center;
}
/* ì¤„ë¬´ëŠ¬ íš¨ê³¼(oddëŠ” í™€ìˆ˜, evenì€ ì§ìˆ˜) */
.tight-table tbody tr:nth-child(odd) {
	background-color: #ffffff; /* í°ìƒ‰ */
}

.tight-table tbody tr:nth-child(even) {
	background-color: #f1f4fa; /* ì—°í•œ íšŒìƒ‰(AdminLTE ëŠë‚Œ) */
}
/* ê³µí†µ í…Œì´ë¸” ê°„ê²©ì„ ì¤„ ê°„ê²© ë§ì¶”ê¸°. table ìƒì„±ì‹œ ê¼­ ì‚¬ìš©í•˜ì„¸ìš” ë */
/* í˜¸ë²„ì´ë²¤íŠ¸ ì‹œì‘ */
/* tight-tableí˜¸ë²„ì´ë²¤íŠ¸ì‹œì‘ */
.table tbody tr {
	transition: background-color 0.25s ease, box-shadow 0.25s ease,
		transform 0.2s ease;
}

.table tbody tr:hover {
	background-color: rgba(100, 140, 164, 0.12) !important; /* ì€ì€í•œ íŒŒìŠ¤í…” */
	box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15); /* ì€ì€í•œ ê·¸ë¦¼ì */
	transform: translateY(-1px); /* ì‚´ì§ ë„ìš°ê¸° */
	cursor: pointer;
}
/* í˜¸ë²„ì´ë²¤íŠ¸ ë */

</style>


	<%@ include file="../include/header.jsp"%>

<section class="content" style="margin: 20px">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">

        <!-- ì¹´ë“œ ì‹œì‘ -->
        <div class="card bg-light">
          
          <!-- ì¹´ë“œ í—¤ë” ì‹œì‘ -->
          <div class="card-header d-flex justify-content-between align-items-center">
            <!-- ì¢Œ ì œëª© -->
            <h5 class="card-title mb-0">ê´€ë¦¬ì ê³µì§€ì‚¬í•­</h5>
            
            <!-- ìš° ê²€ìƒ‰ -->
            <div class="search-area ml-auto d-flex">
              <!-- í•„í„° í¼ ì‹œì‘ -->
              <form action="/" method="get" class="filter-form">
                <div class="filter-card">
                  <div class="filter-card-header">
                    <h3 class="filter-card-title">ê²€ìƒ‰ í•„í„°</h3>
                    <button type="button" class="filter-btn-toggle" onclick="toggleFilter()">
                      <span class="filter-toggle-text">ì„¤ì •</span>
                      <i class="fas fa-chevron-down"></i>
                    </button>
                  </div>

                  <div class="filter-card-body collapsed" id="filterBody">
                    <div class="filter-row">

                      <div class="filter-cell">
                        <div class="filter-cell-label">ê²€ìƒ‰ í•„ë“œ</div>
                        <div class="filter-cell-content">
                          <div class="filter-control-inline">
                            <label class="filter-checkbox">
                              <input type="checkbox" name="searchField" value="noticeSj" /> <span>ìˆœë²ˆ</span>
                            </label>
                            <label class="filter-checkbox">
                              <input type="checkbox" name="searchField" value="noticeCn" /> <span>ì œëª©</span>
                            </label>
                            <label class="filter-checkbox">
                              <input type="checkbox" name="searchField" value="nm" /> <span>ë‚´ìš©</span>
                            </label>
                            <label class="filter-checkbox">
                              <input type="checkbox" name="searchField" value="nm" /> <span>ì‘ì„±ì</span>
                            </label>
                          </div>
                        </div>
                      </div>

                      <div class="filter-cell">
                        <div class="filter-cell-label">ì •ë ¬</div>
                        <div class="filter-cell-content">
                          <div class="filter-control-inline">
                            <label class="filter-radio">
                              <input type="radio" name="sortOrder" value="desc" checked /> <span>ìµœì‹ ìˆœ</span>
                            </label>
                            <label class="filter-radio">
                              <input type="radio" name="sortOrder" value="asc" /> <span>ì˜¤ë˜ëœìˆœ</span>
                            </label>
                          </div>
                        </div>
                      </div>

                      <div class="filter-cell">
                        <div class="filter-cell-label">ìƒíƒœ</div>
                        <div class="filter-cell-content">
                          <select name="status" class="filter-control">
                            <option value="">ì „ì²´</option>
                            <option value="1">í™œì„±</option>
                            <option value="0">ë¹„í™œì„±</option>
                          </select>
                        </div>
                      </div>

                      <div class="filter-cell">
                        <div class="filter-cell-label">ë‚ ì§œ ë²”ìœ„</div>
                        <div class="filter-cell-content">
                          <div class="filter-input-group">
                            <input type="date" name="startDate" class="filter-control" value="${param.startDate}" />
                            <span class="filter-input-group-text">~</span>
                            <input type="date" name="endDate" class="filter-control" value="${param.endDate}" />
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>

                  <div class="filter-search-footer">
                    <div class="filter-search-wrapper">
                      <input type="text" name="keyword" class="filter-input" placeholder="ê²€ìƒ‰ì–´..." value="${keyword}" />
                    </div>
                    <button type="submit" class="filter-btn filter-btn-primary">ê²€ìƒ‰</button>
                    <a href="/" class="filter-btn filter-btn-secondary">ì´ˆê¸°í™”</a>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <!-- ì¹´ë“œ í—¤ë” ë -->

          <!-- í…Œì´ë¸” ì‹œì‘ -->
          <table class="table tight-table">
            <thead>
              <tr>
                <th>ìˆœë²ˆ</th>
                <th>ì œëª©</th>
                <th>ì‘ì„±ì¼</th>
                <th>ì‘ì„±ì</th>
                <th>íŒŒì¼</th>
                <th>êµ¬ë¶„</th>
              </tr>
            </thead>
            <tbody>
              <c:forEach var="noticeVO" items="${articlePage.content}">
                <tr style="cursor: pointer;" onclick="location.href='/notice/detail/${noticeVO.noticeSn}'" class="align-middle">
                  <td>${noticeVO.noticeSn}</td>
                  <td>
                    <a href="/notice/detail/${noticeVO.noticeSn}" class="text-decoration-none text-dark">${noticeVO.noticeSj}</a>
                  </td>
                  <td class="text-center text-muted">
                    <fmt:formatDate value="${noticeVO.noticeWritngDt}" pattern="yyyy-MM-dd" />
                  </td>
                  <td class="text-center">
                    <span class="badge bg-info text-dark">${noticeVO.nm}</span>
                  </td>
                  <td class="text-center">
                    <c:choose>
                      <c:when test="${noticeVO.fileGroupSn > 0}">
                        <span class="badge bg-success">ğŸ“ O</span>
                      </c:when>
                      <c:otherwise>
                        <span class="text-muted">-</span>
                      </c:otherwise>
                    </c:choose>
                  </td>
                  <td class="text-center">
                    <c:choose>
                      <c:when test="${noticeVO.wnmpyNotice == 1}">
                        <span class="badge bg-warning text-dark">ì‚¬ë‚´ê³µì§€</span>
                      </c:when>
                      <c:otherwise>
                        <span class="badge bg-secondary">ì…ì£¼ë¯¼ê³µì§€</span>
                      </c:otherwise>
                    </c:choose>
                  </td>
                </tr>
              </c:forEach>
            </tbody>
          </table>
          <!-- í…Œì´ë¸” ë -->

          <!-- ì¹´ë“œ í‘¸í„° ì‹œì‘ -->
          <div class="card-footer d-flex justify-content-between align-items-center">
            <!-- ì¤‘ì•™ í˜ì´ì§• -->
            <div class="flex-grow-1 text-center">
              ${articlePage.pagingArea}
            </div>
            <!-- ì˜¤ë¥¸ìª½ ë“±ë¡ ë²„íŠ¼ -->
            <div>
              <a type="button" class="btn btn-info btn-sm mr-3" onclick="location.href='/notice/register'">ê³µì§€ë“±ë¡</a>
            </div>
          </div>
          <!-- ì¹´ë“œ í‘¸í„° ë -->

        </div>
        <!-- ì¹´ë“œ ë -->

      </div>
    </div>
  </div>
</section>


<script>
function toggleFilter() {
  const filterBody = document.getElementById('filterBody');
  const toggleBtn = document.querySelector('.filter-btn-toggle i');
  
  filterBody.classList.toggle('collapsed');
  toggleBtn.classList.toggle('rotated');
}
</script>
	<%@ include file="../include/footer.jsp"%>
