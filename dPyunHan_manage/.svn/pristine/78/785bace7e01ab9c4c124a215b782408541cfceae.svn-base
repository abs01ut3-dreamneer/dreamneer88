<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%>
<!DOCTYPE html>
<html>

<head>

<title>ê¸°ì•ˆí•˜ê¸°</title>
</head>
<style>
.drft-table, .sanctnln-table {
	width: 100%;
	height: 180px;
	border-collapse: collapse;
	border: 2px solid black;
}

.reference-table {
	width: 100%;
	height: auto;
	/* ë†’ì´ ìë™ ì¡°ì ˆ */
	border-collapse: collapse;
	border: 2px solid black;
	margin-bottom: 20px;
}

.reference-table td {
	border: 2px solid black;
	height: 40px;
	/* í•œ ì¤„ë§Œ í•„ìš”í•˜ë‹ˆ 40px */
	text-align: center;
}

.drft-table td, .sanctnln-table td {
	border: 2px solid black;
	height: 40px;
	text-align: center;
}

.drft-table .header, .sanctnln-table .header, .reference-table .header {
	font-weight: bold;
}

#sanctnlnArea {
	display: flex;
	gap: 30px;
	align-items: flex-start;
}

#sanctnlnArea>div:first-child {
	flex: 0 0 auto;
}

#sanctnlnArea>div:last-child {
	flex: 1;
	min-width: 500px;
}

.drft-table {
	width: 200px;
}

.sanctnln-table, .reference-table {
	width: 100%;
	margin-bottom: 20px;
}

.empVOList {
	margin-left: 20px;
	border-left: 2px solid #ddd;	
	padding-left: 10px;
}

.empVOList label {
	margin-left: 5px;
}
</style>

<link rel="stylesheet" href="/css/sweetalert2.min.css">
<script type="text/javascript" src="/js/sweetalert2.min.js"></script>
<script type="text/javascript" src="/ckeditor5/ckeditor.js"></script>
<script type="text/javascript">
                    document.addEventListener("DOMContentLoaded", function () {
                        //-----------------------ëª¨ë‹¬JS ì‹œì‘---------------------------------------------------
                        // ëª¨ë“  ë¶€ì„œ ì²´í¬ë°•ìŠ¤ì— í´ë¦­ ì´ë²¤íŠ¸ ë‹¬ê¸°
                        document.querySelectorAll('#deptEmpTree label').forEach(label => {
                            label.addEventListener('click', function (e) {
                                const forAttr = label.getAttribute('for');
                                if (!forAttr) return;

                                const prefix = "dept_";
                                if (!forAttr.startsWith(prefix)) return;

                                const deptCode = forAttr.substring(prefix.length);

                                const empDiv = document.getElementById('empList_' + deptCode);
                                if (!empDiv) return;

                                if (empDiv.style.display === 'none' || empDiv.style.display === '') {
                                    empDiv.style.display = 'block';
                                } else {
                                    empDiv.style.display = 'none';
                                }
                                e.preventDefault(); // label ê¸°ë³¸ í´ë¦­ ë™ì‘ ë°©ì§€
                            });
                        });

                        // ë¶€ì„œ ì²´í¬ë°•ìŠ¤ í´ë¦­ ì‹œ í•´ë‹¹ ë¶€ì„œ ì§ì› ì²´í¬ë°•ìŠ¤ ì „ì²´ ì„ íƒ/í•´ì œ
                        document.querySelectorAll('.dept-check').forEach(deptCheck => {
                            deptCheck.addEventListener('change', function (e) {
                                const deptCode = e.target.dataset.dept;
                                const empDiv = document.getElementById("empList_" + deptCode);
                                if (!empDiv) return;

                                const empChecks = empDiv.querySelectorAll('input[type="checkbox"]');
                                empChecks.forEach(empChk => {
                                    empChk.checked = e.target.checked;
                                });
                            });
                        });


                        // ê²°ì¬ì„  ì¶”ê°€ ë²„íŠ¼
                        document.querySelector("#sanctnlnAddBtn").addEventListener("click", function () {
                            addEmpsToWrapper("sanctnln", "#sanctnlnWrapper");
                        });

                        // ì°¸ì¡° ì¶”ê°€ ë²„íŠ¼
                        document.querySelector("#referenceAddBtn").addEventListener("click", function () {
                            addEmpsToWrapper("reference", "#referenceWrapper");
                        });

                        // ì§ì›ì„ ì„ íƒëœ ì˜ì—­ì— ì¶”ê°€í•˜ëŠ” í†µí•© í•¨ìˆ˜
                        function addEmpsToWrapper(type, wrapperId) {
                            const checkedEmpCheckboxes = document.querySelectorAll('.empVOList input[type="checkbox"]:checked');
                            const wrapper = document.querySelector(wrapperId);

                            checkedEmpCheckboxes.forEach(empChk => {
                                const empId = empChk.id;
                                const elementId = `\${type}_\${empId}`;

                                // ì¤‘ë³µ ì²´í¬
                                if (document.getElementById(elementId)) return;

                                const empLabel = document.querySelector(`label[for="\${empId}"]`);
                                const empName = empLabel ? empLabel.textContent.trim() : "";

                                const empDiv = createEmpElement(elementId, empName, () => {
                                    wrapper.removeChild(empDiv);
                                    empChk.checked = false;

                                    // ê²°ì¬ì„ ì¸ ê²½ìš°ë§Œ ìˆœì„œ ì—…ë°ì´íŠ¸
                                    if (type === "sanctnln") {
                                        updateOrderNumbers();
                                    }
                                });

                                wrapper.appendChild(empDiv);

                                // ê²°ì¬ì„ ì¸ ê²½ìš° ìˆœì„œ ì—…ë°ì´íŠ¸
                                if (type === "sanctnln") {
                                    updateOrderNumbers();
                                }
                            });
                        }

                        // ì§ì› ìš”ì†Œ ìƒì„± í•¨ìˆ˜
                        function createEmpElement(id, empName, onRemove) {
                            const empDiv = document.createElement("div");
                            empDiv.id = id;
                            empDiv.style.cssText = "margin-right:8px; padding:2px 5px; border:1px solid #aaa; border-radius:4px; display:inline-block; user-select:none;";

                         	// ìˆœì„œë¥¼ í‘œì‹œí•  div (sanctnlnì¸ ê²½ìš°ë§Œ)
                            const orderDiv = document.createElement("div");
                            orderDiv.className = "sanctnlnOrdr";
                            orderDiv.style.cssText = "display:inline; margin-right:4px; font-weight:bold;";
                            orderDiv.textContent = ""; // ë‚˜ì¤‘ì— updateOrderNumbersì—ì„œ ì„¤ì •
                            
                            // ì§ì› ì´ë¦„ì„ í‘œì‹œí•  div
                            const nameDiv = document.createElement("div");
                            nameDiv.className = "empName";
                            nameDiv.style.cssText = "display:inline;";
                            nameDiv.textContent = empName;

                            // ì‚­ì œ ë²„íŠ¼
                            const removeBtn = document.createElement("button");
                            removeBtn.type = "button";
                            removeBtn.className = "removeBtn";
                            removeBtn.style.marginLeft = "4px";
                            removeBtn.textContent = "x";
                            removeBtn.addEventListener("click", (e) => {
                                e.preventDefault();
                                onRemove();
                            });

                            empDiv.appendChild(orderDiv);
                            empDiv.appendChild(nameDiv);
                            empDiv.appendChild(removeBtn);

                            return empDiv;
                        }

                        // ê²°ì¬ì„  ìˆœì„œë²ˆí˜¸ ì—…ë°ì´íŠ¸
                        function updateOrderNumbers() {
						    document.querySelectorAll("#sanctnlnWrapper > div").forEach((div, idx) => {
						        let orderDiv = div.querySelector(".sanctnlnOrdr");
						        
						        if (!orderDiv) {
						            orderDiv = document.createElement("div");
						            orderDiv.className = "sanctnlnOrdr";
						            orderDiv.style.cssText = "display:inline; margin-right:4px; font-weight:bold;";
						            div.insertBefore(orderDiv, div.firstChild);
						        }
						        
						        // [1], [2] í˜•íƒœê°€ ì•„ë‹ˆë¼ 1, 2 í˜•íƒœë¡œ ì €ì¥
						        orderDiv.textContent = (idx + 1);
						    });
						}

                        // confirmBtn í´ë¦­ ì´ë²¤íŠ¸
                        document.querySelector("#confirmBtn").addEventListener("click", function () {
                            addSanctnlnToTable();
                            document.querySelector("#setSanctnln [data-dismiss='modal']").click();
                        });

                        // ê²°ì¬ì„ ì„ í…Œì´ë¸”ì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜
                        function addSanctnlnToTable() {
                            const sanctnlnDivs = document.querySelectorAll("#sanctnlnWrapper > div");
                            const referenceDivs = document.querySelectorAll("#referenceWrapper > div");

                            // ê²°ì¬ì ì •ë³´ ì¶”ê°€
                            sanctnlnDivs.forEach((div, index) => {
                                const empInfo = parseEmpInfo(div);
                                addApproverColumn(empInfo, index + 1);
                            });

                            // ì°¸ì¡°ì ì •ë³´ í‘œì‹œ
                            updateReferenceDisplay(referenceDivs);
                        }

                        // ì§ì› ì •ë³´ íŒŒì‹± í•¨ìˆ˜
                        function parseEmpInfo(div) {
                            const empId = div.id.replace("sanctnln_", "");
                            const empLabel = document.querySelector(`label[for="\${empId}"]`);
                            const fullText = empLabel ? empLabel.textContent.trim() : "";

                            const parts = fullText.split(/\s+/);
                            const empName = parts[0] || "";
                            const clsfName = parts[1] || "";

                            console.log("empName:", empName, "clsfName:", clsfName);

                            return { empId, empName, clsfName };
                        }

                        // ê²°ì¬ì ì—´ ì¶”ê°€ í•¨ìˆ˜
                        function addApproverColumn(empInfo, order) {
                            document.querySelector(".tr-sanctnln-ordr").appendChild(createTd(`\${order}`));
                            document.querySelector(".tr-clsf").appendChild(createTd(empInfo.clsfName));
                            document.querySelector(".tr-nm").appendChild(createTd(empInfo.empName));

                            const empIdTd = createTd(empInfo.empId);
                            empIdTd.dataset.empId = empInfo.empId;
                            document.querySelector(".tr-empId").appendChild(empIdTd);
                        }

                        // td ìƒì„± í—¬í¼ í•¨ìˆ˜
                        function createTd(text) {
                            const td = document.createElement("td");
                            td.className = "data-cell";
                            td.textContent = text;
                            return td;
                        }

                        // ì°¸ì¡°ì ì •ë³´ í‘œì‹œ í•¨ìˆ˜
                        function updateReferenceDisplay(referenceDivs) {
                            const refDisplay = document.querySelector("#reference-display");

                            if (referenceDivs.length === 0) {
                                refDisplay.textContent = "";
                                refDisplay.dataset.refIds = "";
                                return;
                            }

                            let referenceText = "";
                            const refIds = [];

                            referenceDivs.forEach((div, index) => {
                                const refId = div.id.replace("reference_", "");
//                                 const refName = div.textContent.replace("x", "").trim();
                                const refName = div.querySelector(".empName")?.textContent.trim() || "";

                                refIds.push(refId);
                                referenceText += (index > 0 ? ", " : "") + refName;
                            });

                            refDisplay.textContent = referenceText;
                            refDisplay.dataset.refIds = refIds.join(",");
                        }

                        //-----------------------ëª¨ë‹¬JS ë---------------------------------------------------
                        const currentEmpVO = {
                            "empId": "${empVO.empId}",
                            "nm": "${empVO.nm}",
                            "clsfName": "${empVO.clsfName}"
                        };

                        console.log("currentEmpVO", currentEmpVO);
                        const elctrnsanctnManage = document.querySelector("#elctrnsanctnManage");

                        elctrnsanctnManage.addEventListener("change", function (e) {
                            const data = { "elctrnsanctnManageId": e.target.value };
                            fetch("/elctrnsanctn/getDrftDocVOList", {
                                method: "post",
                                headers: {
                                    "Content-Type": "application/json;charset=UTF-8"
                                },
                                body: JSON.stringify(data)
                            })
                                .then(resp => resp.json())
                                .then(data => {
                                    const drftDoc = document.querySelector("#drftDoc");
                                    let str = `<option>ê¸°ì•ˆ ë¬¸ì„œ ì„œì‹</option>`;
                                    data.drftDocVOList.forEach(drftDocVO => {
                                        str += `
					<option value="\${drftDocVO.drftDocId}">\${drftDocVO.drftDocNm}</option>
				`
                                    })
                                    drftDoc.innerHTML = str;
                                })
                                .catch(err => console.log("error : ", err))
                        }); // elctrnsanctnManage.addEventListener "change" ë


                        document.querySelector("#drftDoc").addEventListener("change", function (e) {
                            const drftDocId = e.target.value;

                            const elctrnsanctnManageId = document.querySelector("#elctrnsanctnManage").value;
                            console.log("check : drftDocId/elctrnsanctnManageId => " + drftDocId + ", " + elctrnsanctnManageId);
                            let data = {
                                "drftDocId": drftDocId,
                                "elctrnsanctnManageId": elctrnsanctnManageId
                            }

                            if (!drftDocId || drftDocId === "ê¸°ì•ˆ ë¬¸ì„œ ì„œì‹") {
                                Swal.fire({
                                    title: 'ì•Œë¦¼',
                                    text: 'ê¸°ì•ˆ ë¬¸ì„œ ì„œì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”.',
                                    icon: 'warning',
                                    confirmButtonColor: '#3085d6',
                                    confirmButtonText: 'í™•ì¸'
                                });
                                return;
                            } //swal ë

                            //ë²„íŠ¼ ë‚˜íƒ€ë‚´ê¸°
                            document.querySelector("#btns").setAttribute("style", "display:block;");

                            //ê²°ì¬ì„  ì„œì‹ ë‚˜íƒ€ë‚´ê¸°
                            document.querySelector("#sanctnlnArea").innerHTML = ""; //ê¸°ì¡´ ê²°ì¬ì„  ì§€ìš°ê¸°

                            //ìƒì„¸ ì…ë ¥ ë‚˜íƒ€ë‚´ê¸°
                            document.querySelector("#drftCnArea").innerHTML = ""; //ê¸°ì¡´ ìƒì„¸ ì…ë ¥ ì§€ìš°ê¸°

                            fetch("/elctrnsanctn/getDrftDocFormat", {
                                method: "post",
                                headers: {
                                    "Content-Type": "application/json;charset=UTF-8"
                                },
                                body: JSON.stringify(data)
                            })
                                .then(resp => {
                                    return resp.json()
                                })
                                .then(data => {
                                    let htmlContent = data.drftDocVO.drftDocFormat;
                                    console.log("htmlContent", htmlContent);
                                    htmlContent = htmlContent.replaceAll("\${empVO.empId}", currentEmpVO.empId);
                                    htmlContent = htmlContent.replaceAll("\${empVO.nm}", currentEmpVO.nm);
                                    htmlContent = htmlContent.replaceAll("\${empVO.clsfName}", currentEmpVO.clsfName);
                                    console.log("htmlContent ì¹˜í™˜ í›„", htmlContent);
                                    document.querySelector("#sanctnlnArea").innerHTML = htmlContent;
                                })

                            // ê¸°ì¡´ ì—ë””í„°ê°€ ìˆìœ¼ë©´ ì œê±°
                            if (window.editor) {
                                window.editor.destroy()
                                    .then(() => {
                                        createEditorWithTemplate();
                                    });
                            } else {
                                createEditorWithTemplate();
                            }
                        });// document.querySelector("#selectDrftDoc").addEventListener "change" ë

                        //ckEditor ì˜¤í”ˆ
                        function createEditorWithTemplate() {
                            const drftCnArea = document.querySelector("#drftCnArea");
                            drftCnArea.innerHTML = `
			<p>ì œëª©</p>
            <input type="text" id="drftSj" name="drftSj">
			<p>ë³¸ë¬¸</p>
			<textarea id="editor" name="drftCn"></textarea>
		`;

                            drftCnArea.style.display = "block";

                            // CKEditor 5 ìƒì„±
                            ClassicEditor
                                .create(document.querySelector('#editor'), {
                                    // ì—ë””í„° ì„¤ì •
                                    toolbar: ['heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', 'blockQuote'],
                                    height: '500px',
                                    ckfinder: { uploadUrl: '/image/upload' }
                                })
                                .then(editor => {
                                    window.editor = editor;
                                })
                                .catch(error => {
                                    console.error("check: editor error => ", error);
                                });
                        }

                        document.querySelector("#tempDrftSave").addEventListener("click", function () {
                            const elctrnsanctnManageId = document.querySelector("#elctrnsanctnManage").value;
                            const drftDocId = document.querySelector("#drftDoc").value;

                            if (window.editor) {
                                const editorData = window.editor.getData();
                                document.querySelector("#editor").value = editorData;
                            }

                            const sanctnlnData = [];
                            const ordrCells = document.querySelectorAll(".tr-sanctnln-ordr .data-cell");
                            const empIdCells = document.querySelectorAll(".tr-empId .data-cell");
                            
                            ordrCells.forEach((cell, index) => {
                                const order = cell.textContent.trim();
                                const empId = empIdCells[index].getAttribute("data-emp-id") || empIdCells[index].textContent.trim();

                                sanctnlnData.push({ "sanctnOrdr": order, "empId": empId });
                            });
                            
                            document.querySelector("#sanctnlnList").value = JSON.stringify(sanctnlnData);
                            
                            const refDisplay = document.querySelector("#reference-display");
                            const refIds = refDisplay.dataset.refIds || "";  // "emp1,emp2,emp3" í˜•íƒœ
							console.log("check : refIds => ", refIds);
                            
                            const referenceData = refIds ? refIds.split(",").map(id => ({ "empId": id.trim() })) : [];
                            document.querySelector("#referenceList").value = JSON.stringify(referenceData);
                            
                            document.querySelector("#drftTmprstre").value = 1;
                            
                            const form = document.querySelector("#elctrnsanctnForm");
                            form.action = "/elctrnsanctn/postDrftTmprStre";
                            form.method = "post";
                            form.submit();
                        })
                    });
                </script>

<body>
	<%@ include file="../include/header.jsp"%>

	<!--/// body /// -->

	<div class="jumbotron">
		<div class="container">
			<h1 class="display-3">ê¸°ì•ˆí•˜ê¸°</h1>
		</div>
	</div>

	<!-- <div> -->
	<!-- ë¡œê·¸ì¸í•œ ì§ì› ì´ë¦„, ë¶€ì„œ-->
	<%-- ì§ì›: ${empVO } --%>
	<!-- </div> -->
	<form id="elctrnsanctnForm">
		<div>
			<h3>ê¸°ë³¸ ì„¤ì •</h3>
			<!-- ë¬¸ì„œì¢…ë¥˜ -->
			<!-- <p>${ElctrnsanctnManageVOList}</p>  -->
			<!-- ì „ìê²°ì œ_ê´€ë¦¬ -->
			<table border="1">
				<tr>
					<td>ë¬¸ì„œ ì¢…ë¥˜</td>
					<td><select id="elctrnsanctnManage"
						name="elctrnsanctnManageId">
							<option disabled selected>ê²°ì¬ êµ¬ë¶„</option>
							<c:forEach var="ElctrnsanctnManageVO"
								items="${ElctrnsanctnManageVOList}">
								<option value="${ElctrnsanctnManageVO.elctrnsanctnManageId }">
									${ElctrnsanctnManageVO.sanctnSecode }</option>
							</c:forEach>
					</select> <select id="drftDoc" name="drftDocId">
							<option>ì„ íƒ</option>
							<!-- <option value="${drftDocVO.drftDocId}"> ${drftDocVO.drftDocNm}</option> -->
					</select></td>
					<td>ì‘ì„±ì</td>
					<td>${empVO.nm}</td>
				</tr>
			</table>
			<!-- ê¸°ì•ˆ_ë¬¸ì„œ -->
		</div>

		<div id="btns" style="display: none;">
			<input type="button" id="tempDrftSave" value="ì„ì‹œì €ì¥" /> <input
				type="button" id="permDrftSave" value="ê¸°ì•ˆí•˜ê¸°" /> <input
				type="button" id="preview" value="ì¸ì‡„ë¯¸ë¦¬ë³´ê¸°" />
		</div>

		<div>
			<h3>ê²°ì¬ì„ </h3>
			<a href="#setSanctnln" data-toggle="modal"
				class="btn btn-primary btn-sm setSanctnln">ê²°ì¬ì„ ì„¤ì •</a>
			<div id="sanctnlnArea">
				ë¬¸ì„œ ì¢…ë¥˜ ì„ íƒì‹œ ê²°ì¬ì„ ì´ ë…¸ì¶œë©ë‹ˆë‹¤.
				<!-- ì—¬ê¸°ë¶€í„° ê¸°ì•ˆ ì„œì‹-->
				
				<!-- ì—¬ê¸°ê¹Œì§€ ê¸°ì•ˆ ì„œì‹-->
			</div>
		</div>

		<div>
			<h3>ìƒì„¸ ì…ë ¥</h3>

			<div id="drftCnArea">ë¬¸ì„œ ì¢…ë¥˜ ì„ íƒì‹œ ìƒì„¸ ì…ë ¥ì´ ë…¸ì¶œë©ë‹ˆë‹¤.</div>
			<!-- ê²°ì¬ ì„œì‹ ì˜ì—­ -->
		</div>
		
		
		<input type="hidden" name="sanctnlnList" id="sanctnlnList"> 
		<input type="hidden" name="referenceList" id="referenceList"> 
		<input type="hidden" name="drftTmprstre" id="drftTmprstre">
	</form>

	<!-- /// body /// -->
	<%@ include file="../include/footer.jsp"%>


	<!-- ê²°ì¬ì„  ëª¨ë‹¬ -->
	<div class="modal" id="setSanctnln">
		<div class="modal-content">
			<!-- ëª¨ë‹¬ í—¤ë” -->
			<div class="modal-header">
				<h2>ê²°ì¬ì„  ì„¤ì •</h2>
				<button class="close-btn" data-dismiss="modal">&times;</button>
			</div>

			<!-- ëª¨ë‹¬ ë°”ë”” -->
			<div class="modal-body">
				<!-- ì¡°ì§ë„ ì˜ì—­ -->
				<div id="deptEmpSection">
					<div id="searchBox">
						<input type="text" placeholder="ì´ë¦„, ì¡°ì§ ê²€ìƒ‰">
						<button id="searchBtn">ğŸ”</button>
						<button id="refreshBtn">ğŸ”„</button>
					</div>

					<div id="deptEmpTree">
						<c:forEach var="deptVO" items="${deptVOList}">
							<c:choose>
								<c:when
									test="${not empty deptVO.empVOList and deptVO.empVOList[0].nm != null}">
									<input type="checkbox" class="dept-check"
										id="dept_${deptVO.deptCode}" data-dept="${deptVO.deptCode}" />
									<label for="dept_${deptVO.deptCode}">${deptVO.deptNm
                                                                    }</label>
									<div class="empVOList" id="empList_${deptVO.deptCode}"
										style="display: none;">
										<c:forEach var="empVO" items="${deptVO.empVOList }">
											<input type="checkbox" id="${empVO.empId}" />
											<label for="${empVO.empId}">${empVO.nm}
												${empVO.clsfName }</label>
											<br />
										</c:forEach>
									</div>
								</c:when>
								<c:otherwise>
									<input type="checkbox" class="dept-check"
										id="dept_${deptVO.deptCode}" data-dept="${deptVO.deptCode}"
										disabled />
									<label for="dept_${deptVO.deptCode}">${deptVO.deptNm
                                                                    }</label>
								</c:otherwise>
							</c:choose>
							<hr />
						</c:forEach>
					</div>
				</div>

				<!-- ê²°ì¬ ë‹¨ê³„ ë²„íŠ¼ -->
				<div id="sanctnlnBtnSection">
					<button id="sanctnlnAddBtn">ê²°ì¬</button>
					<button id="referenceAddBtn">ì°¸ì¡°</button>
				</div>

				<!-- ì„ íƒëœ ê²°ì¬ì„  ì˜ì—­ -->
				<div id="sanctnlnSection">
					<div id="bkmkSanctnlnBox">
						<select id="bkmkSanctnlnSelect">
							<option>ìì£¼ ì“°ëŠ” ê²°ì¬ì„ </option>
						</select>
					</div>

					<div style="border: 1px solid black; height: 100px;"
						id="sanctnlnWrapper"></div>

					<!-- ì°¸ì¡° ì˜ì—­ -->
					<div id="referenceSection">
						<label>ì°¸ì¡°</label>
						<div style="border: 1px solid black; height: 100px;"
							id="referenceWrapper"></div>
					</div>
				</div>
			</div>

			<!-- ëª¨ë‹¬ í‘¸í„° -->
			<div class="modal-footer">
				<button id="confirmBtn">í™•ì¸</button>
				<button type="button" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>



</body>

</html>