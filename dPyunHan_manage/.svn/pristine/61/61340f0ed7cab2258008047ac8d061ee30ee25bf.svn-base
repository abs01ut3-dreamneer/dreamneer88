<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %>
<!DOCTYPE html>
<html>
<head>

<title> </title>
</head>
<script>
	document.addEventListener("DOMContentLoaded", function(){
    document.querySelectorAll(".elctrnsanctnRow").forEach(row=>{
      row.addEventListener("click", function(){
        // console.log("check: this.querySelector('#elctrnsanctnSn').value => ", this.querySelector("#elctrnsanctnSn").value);
        location.href="/elctrnsanctn/getElctrnsanctn?elctrnsanctnSn="+this.querySelector("#elctrnsanctnSn").value;
      })
    })
  })  
</script>
<body>
<%@ include file="../include/header.jsp"%>

<!--/// body /// -->

<div class="jumbotron">
	<div class="container">
		<h1 class="display-3">전자결재</h1>
		<button type="button" onclick="location.href='/elctrnsanctn/postElctrnsanctn'">+작성하기</button>
	</div>
</div>

		<div class="col-12">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">결재 현황</h3>

                <div class="card-tools">
                  <div class="input-group input-group-sm" style="width: 150px;">
                    <input type="text" name="table_search" class="form-control float-right" placeholder="Search">

                    <div class="input-group-append">
                      <button type="submit" class="btn btn-default">
                        <i class="fas fa-search"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <!-- /.card-header -->
              <div class="card-body table-responsive p-0">
                <table class="table table-hover text-nowrap">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>분류</th>
                      <th>제목</th>
                      <th>등록일시</th>
                      <th>기안일시</th>
                      <th>기안상태</th>
                      <th>결재상태</th>
                    </tr>
                  </thead>
                  <tbody>
                  	<c:forEach var="elctrnsanctnVO" items="${articlePage.content}">
                  		<tr class="elctrnsanctnRow">
	                      <td>${elctrnsanctnVO.rnum}
                            <input type="hidden" id="elctrnsanctnSn" value="${elctrnsanctnVO.elctrnsanctnSn}">
                        </td>
	                      <td>${elctrnsanctnVO.drftDocVO.elctrnsanctnManageVO.sanctnSecode }/${elctrnsanctnVO.drftDocVO.drftDocNm}</td>
	                      <td>${elctrnsanctnVO.drftSj }</td>
	                      <td>
	                      	<fmt:formatDate value="${elctrnsanctnVO.creatDt}" pattern="yyyy-MM-dd" />	                      
	                      </td>
	                      <td>
	                      	<fmt:formatDate value="${elctrnsanctnVO.drftDt}" pattern="yyyy-MM-dd" /> 
	                      </td>
	                      <td>
	                      	<span class="tag tag-success">
	                      		${elctrnsanctnVO.drftTmprstreStts}
	                      	</span>
	                      </td>
	                      <td>
	                      	<span class="tag tag-success">${elctrnsanctnVO.totSanctnStts}</span>
	                      </td>
	                    </tr>
                  	</c:forEach>
                  </tbody>
                </table>
              </div>
              <!-- /.card-body -->
              <div class="card-footer clearfix">${articlePage.pagingArea }
            </div>
            <!-- /.card -->
          </div>
          <!-- /// body /// -->
<%@ include file="../include/footer.jsp"%>
</body>
</html>