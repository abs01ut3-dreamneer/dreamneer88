<%@ page language="java" contentType="text/html; charset=UTF-8" %>
	<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
		<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %>
			<%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn" %>
				<!DOCTYPE html>
				<html>

				<head>
					<title> </title>
				<script>
					document.addEventListener("DOMContentLoaded", function(){
						document.querySelectorAll(".bdderVORow").forEach(row=>{
							row.addEventListener("click", function(){
								const bdderSn = this.querySelector("#bdderSn").value;
								location.hred=""
							})
						});
					});
				</script>
				</head>

				<body>
					<%@ include file="../include/header.jsp" %>
						<div class="card">
							<div class="card-header bg-lightblue">
								<h3 class="card-title">참여중인 입찰 목록</h3>
							</div>
							<!-- /.card-header -->
							<div class="card-body">
								<table class="table table-bordered table-hover text-center">
									<thead>
										<tr>
											<th>순번</th>
											<th>입찰제목</th>
											<th>입찰가액</th>
											<th>입찰보증금</th>
											<th>입찰일시</th>
											<th>입찰마감일</th>
											<th>입찰여부</th>
										</tr>
									</thead>
									<tbody>
										<c:forEach var="bdderVO" items="${articlePage.content }">
											<tr class="bdderVORow" style="cursor: pointer;">
												<td>${bdderVO.rnum }
													<input type="hidden" id="bdderSn" value="${bdderVO.bdderSn}"/>
												</td>
												<td>${bdderVO.bidPblancVO.bidSj}</td>
												<td>
													<fmt:formatNumber value="${bdderVO.bidAmount }" pattern="#,### 원">
													</fmt:formatNumber>
												</td>
												<td>
													<fmt:formatNumber value="${bdderVO.bidGtn }" pattern="#,### 원">
													</fmt:formatNumber>
												</td>
												<td>
													<fmt:formatDate value="${bdderVO.bidSportDt }"
														pattern="yyyy-MM-dd HH:mm" />
												</td>
												<td>
													<fmt:formatDate value="${bdderVO.bidPblancVO.bidClosDtAsDate }"
														pattern="yyyy-MM-dd HH:mm" />
												</td>
												<td>
													<c:choose>
														<c:when test="${bdderVO.bidAt==2}">
															<span class="badge badge-danger"
																style="font-size: 0.9rem">${bdderVO.bidAtAsStr }</span>
														</c:when>
														<c:when test="">
															<span class="badge badge-success"
																style="font-size: 0.9rem">${bdderVO.bidAtAsStr }</span>
														</c:when>
														<c:otherwise>
															<span class="badge badge-info"
																style="font-size: 0.9rem">${bdderVO.bidAtAsStr }</span>
														</c:otherwise>
													</c:choose>
												</td>
											</tr>
										</c:forEach>
									</tbody>
								</table>
							</div>
							<!-- /.card-body -->
							${articlePage.pagingAreaBorderedTable}
						</div>

						<%@ include file="../include/footer.jsp" %>
				</body>

				</html>