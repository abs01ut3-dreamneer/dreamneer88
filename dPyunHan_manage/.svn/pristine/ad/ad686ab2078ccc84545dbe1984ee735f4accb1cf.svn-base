<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ include file="../include/header.jsp"%>

<html>
<head>
<title>승인 대기 회원 목록</title>
<style>
    .card { margin-top: 20px; }

    /* 검색 영역 */
    .filter-bar {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        align-items: flex-end;
        justify-content: space-between;
        background: #f9f9f9;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 15px 20px;
        margin-bottom: 20px;
    }

    .filter-group {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        flex: 1;
    }

    .filter-item {
        display: flex;
        flex-direction: column;
        gap: 5px;
        min-width: 150px;
    }

    .filter-item label {
        font-weight: 600;
        font-size: 13px;
        color: #333;
    }

    .filter-item input,
    .filter-item select {
        border: 1px solid #ccc;
        border-radius: 5px;
        padding: 6px 8px;
        width: 100%;
    }

    .filter-actions {
        display: flex;
        gap: 10px;
        align-items: center;
    }

    .btn-search {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
    }

    .btn-reset {
        background-color: #6c757d;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
    }

    .btn-search:hover { background-color: #0056b3; }
    .btn-reset:hover { background-color: #545b62; }

    /* 테이블 */
    .table th, .table td {
        text-align: center;
        vertical-align: middle;
    }

    .approve-btn {
        color: white;
        background-color: green;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 5px;
    }

    .approve-btn:hover { background-color: darkgreen; }
</style>
</head>

<body>
<div class="jumbotron">
    <div class="container">
        <h1 class="display-3">승인 대기 회원 목록</h1>
    </div>
</div>

<div class="container">


    <div class="filter-bar">
        <div class="filter-group">
            <div class="filter-item">
                <label>회원 ID</label>
                <input type="text" placeholder="회원 ID 입력">
            </div>

            <div class="filter-item">
                <label>이름</label>
                <input type="text" placeholder="이름 입력">
            </div>

            <div class="filter-item">
                <label>전화번호</label>
                <input type="text" placeholder="전화번호 입력">
            </div>

            <div class="filter-item">
                <label>회원유형</label>
                <select>
                    <option>전체</option>
                    <option>임대</option>
                    <option>자가</option>
                    <option>임차</option>
                </select>
            </div>

            <div class="filter-item">
                <label>세대번호</label>
                <input type="text" placeholder="세대번호 입력">
            </div>

            <div class="filter-item">
                <label>동</label>
                <input type="text" placeholder="동 입력">
            </div>

            <div class="filter-item">
                <label>호</label>
                <input type="text" placeholder="호 입력">
            </div>

            <div class="filter-item">
                <label>입주일자</label>
                <input type="date">
            </div>
        </div>

        <div class="filter-actions">
            <button class="btn-search">검색</button>
            <button class="btn-reset">초기화</button>
        </div>
    </div>

    <!-- 승인 대기 회원 목록 테이블 -->
    <div class="card">
        <div class="card-body p-0">
            <table class="table table-bordered table-hover mb-0">
                <thead class="thead-light">
                    <tr>
                        <th>회원 ID</th>
                        <th>이름</th>
                        <th>전화번호</th>
                        <th>회원유형</th>
                        <th>세대번호</th>
                        <th>동</th>
                        <th>호</th>
                        <th>입주일자</th>
                        <th>승인</th>
                    </tr>
                </thead>
                <tbody>
                    <c:forEach var="member" items="${pendingList}">
                        <tr>
                            <td><a href="${pageContext.request.contextPath}/mber/detail?mberId=${member.mberId}">${member.mberId}</a></td>
                            <td>${member.mberNm}</td>
                            <td>${member.telno}</td>
                            <td>
                                <c:choose>
                                    <c:when test="${member.mberTy == 1}">임대</c:when>
                                    <c:when test="${member.mberTy == 2}">자가</c:when>
                                    <c:otherwise>임차</c:otherwise>
                                </c:choose>
                            </td>
                            <td>${member.hshldId}</td>
                            <td>${member.aptcmpl}</td>
                            <td>${member.ho}</td>
                            <td>${member.mvnDe}</td>
							<td>
							    <button type="button" class="approve-btn"
							            onclick="location.href='${pageContext.request.contextPath}/mber/detail?mberId=${member.mberId}'">
							        승인
							    </button>
							</td>
                        </tr>
                    </c:forEach>

                    <c:if test="${empty pendingList}">
                        <tr>
                            <td colspan="9">승인 대기 중인 회원이 없습니다.</td>
                        </tr>
                    </c:if>
                </tbody>
            </table>
        </div>
    </div>
</div>

<%@ include file="../include/footer.jsp"%>
</body>
</html>
