<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<%@ include file="../include/header.jsp" %>
<script type="text/javascript" src="/js/jquery-3.6.0.js"></script>

<h2>ğŸ“Š ì›”ë³„ ê²€ì¹¨ ë°ì´í„°</h2>
<style>
    body { font-family: sans-serif; margin: 20px; }
    table { width: 80%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ddd; padding: 10px; text-align: center; }
    th { background-color: #f2f2f2; }
    h2 { color: #333; }
    .search-form {
        background-color: #f9f9f9;
        border: 1px solid #eee;
        padding: 15px;
        margin-bottom: 20px;
        border-radius: 5px;
    }
    .search-form input[type="text"],
    .search-form input[type="month"] {
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    .search-form button {
        padding: 8px 12px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    .search-form button:hover { background-color: #0056b3; }
    .search-form button.reset { background-color: #6c757d; }
    .search-form button.reset:hover { background-color: #5a6268; }
</style>
</head>
<body>

<h2>ì„¸ëŒ€ ê²€ì¹¨ ì´ë ¥ (ì›ë³¸ ë°ì´í„°)</h2>
<div class="search-form">
    <form action="${pageContext.request.contextPath}/mtinsp/mtinspView" method="get">
        ì„¸ëŒ€ ID:
        <input type="text"
               name="hshldId"
               value="${searchHshldId}"
               placeholder="ì˜ˆ: 11011001" />

        &nbsp;&nbsp; ê²€ìƒ‰ ì›”:
        <input type="month"
               name="searchMonth"
               value="${searchMonth}" />

        &nbsp;&nbsp;

        <button type="submit">ì¡°íšŒ</button>

        <button type="button" class="reset"
                onclick="location.href='${pageContext.request.contextPath}/mtinsp/history'">
            ì „ì²´ë³´ê¸°
        </button>
    </form>
</div>
<table>
    <thead>
    <tr>
        <th>ì„¸ëŒ€ë²ˆí˜¸</th>
        <th>ê²€ì¹¨ì¼ì‹œ</th>
        <th>êµ¬ë¶„</th>
        <th>ì‚¬ìš©ëŸ‰</th>
    </tr>
    </thead>
    <tbody>
    <%-- 1. ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë„˜ê²¨ì¤€ "historyList"ê°€ ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸ --%>
    <c:if test="${empty dataList}">
        <tr>
            <td colspan="3">ì¡°íšŒëœ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
        </tr>
    </c:if>

    <%-- 2. "historyList"ë¥¼ ìˆœíšŒí•˜ë©° <tr> ìƒì„± --%>
    <c:forEach items="${dataList}" var="item">
        <tr>
            <td>${item.hshldId}</td>
            <td>${item.mtinspDt}</td>
            <td>${item.iemNm}</td>
            <td>${item.usgqty}</td>
                <%-- (MtinspVOì— ë‹¨ìœ„(unit) ê°™ì€ ê²Œ ìˆë‹¤ë©´ <td>${item.unit}</td> ì¶”ê°€) --%>
        </tr>
    </c:forEach>
    </tbody>
</table>

<%--<div style="margin-top: 40px; border: 1px dashed gray; padding: 20px;">--%>
<%--    <p>--%>
<%--        <b>(ì•ˆë‚´)</b> ì´ í…Œì´ë¸” ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ--%>
<%--        <br>--%>
<%--        ì´ í˜ì´ì§€ì˜ <code>&lt;script&gt;</code> íƒœê·¸ ì•ˆì—ì„œ Chart.js ë“±ì„ ì´ìš©í•´ ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ì‹œë©´ ë©ë‹ˆë‹¤.--%>
<%--    </p>--%>
<%--</div>--%>

<%@ include file="../include/footer.jsp" %>