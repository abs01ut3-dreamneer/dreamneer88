<!-- JPS로 출력하는거. (미완성이니까 참고만) -->
<%@ page language="java" contentType="text/html; charset=UTF-8" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>

	<!-- /// header 시작  -->
	<%@ include file="../include/header.jsp" %>
		<!-- /// header 끝 /// -->
		<!-- body시작은 header 에서부터  -->
<%-- 		${voteMtrVO2} --%>

		<section class="content" style="margin: 20px">
			<div class="container-fluid">
				<div class="row mb-2">
					<div class="col-sm-12">
						<div id="example1_filter" class="dataTables_filter" style="float: right;">
							<form id="frm" name="frm" action="/vote/voteMtr" method="get" class="form-inline">
								<!-- 검색 시 currentPage = 1 초기화 -->
								<input type="hidden" name="currentPage" value="1" />
								<label>
									<!-- 검색 시 currentPage = 1로 초기화 --> <input type="hidden" name="currentPage"
										value="1" /> <input type="search" name="keyword"
										class="form-control form-control-sm" placeholder="검색어를 입력해주세요"
										value="${param.keyword}" aria-controls="example1" />
								</label>
								<button type="submit" class="btn btn-primary btn-sm">검색</button>
							</form>
						</div>
					</div>
				</div>
			<div class="container">
				<h3 class="class="card-title">투표 목록</h3>
			</div>
				<div class="row">
					<div class="col-md-12">
						<!-- 카드 시작 -->
						<div class="card">
							<div class="card-body">
								<table style="border-collapse: collapse; border: none; width: 100%;">
									<thead>
										<tr>
											<th style="width:10%; text-align: center;">No</th>
											<th>제목</th>	
											<th style="width: 200px; text-align: center;">투표기간</th>
											<th style="width: 120px; text-align: center;">작성자</th>
											<th style="width: 80px; text-align: center;">상태</th>
										</tr>
									</thead>
									<tbody>



										<c:forEach var="p" items="${articlePage.content}" varStatus="stat">
											<tr>
												<td style="text-align: center;">[${p.voteMtrSn}] <span class="badge badge-success">
														${p.stat}
													</span></td>
												<td><a href="/vote/voteDetail?voteMtrSn=${p.voteMtrSn}">
												<c:out value="${p.mtrSj}" /></a></td>
												<td style="text-align: center;">
													${fn:substring(p.voteBeginDt, 0, 10)}
													~
													${fn:substring(p.voteEndDt, 0, 10)}
												</td>
												<td style="text-align: center;">
													<c:out value="${p.empId}" />
												</td>
												<td style="text-align: center;">
																											<!-- lvl이 1 초과 시 -->
													<!-- EL태그 정리 
																				== : eq(equal)
																				!= : ne(not equal)
																				<  : lt(less than)
																				>  : gt(greater than)
																				<= : le(less equal)
																				>= : ge(greater equal)
																				-->

													<span class="badge badge-success">
														${p.stat}
													</span>
														
														</td>
											</tr>
										</c:forEach>
									</tbody>
								</table>
							</div>
						<div style="text-align: right;"><a href="/vote/addVotePage" class="btn btn-info btn-sm" >등록하기</a></div>

							<div class="card-footer clearfix">${articlePage.pagingArea}</div>
						</div>
						<!-- 카드 끝 -->
					</div>
				</div>
			</div>
		</section>



		<!-- /// body 끝 /// -->

		<!-- /// footer 시작  -->
		<%@ include file="../include/footer.jsp" %>
			<!-- /// footer 끝 /// -->