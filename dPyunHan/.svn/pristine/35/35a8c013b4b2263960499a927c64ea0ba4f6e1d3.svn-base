<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>

<%@ include file="./include/headerContents.jsp"%>

<script type="text/javascript" src="/js/jquery-3.6.0.js"></script>

<style>
html, body {
	height: 100%;
	margin: 0;
	padding: 0;
	background: linear-gradient(135deg, #c2e9fb 0%, #a1c4fd 100%);
	overflow: hidden;
}

/* header 고정 (로그인 상단 바) */
header, .topbar, .navbar {
	position: fixed !important;
	top: 0;
	left: 0;
	width: 100%;
	z-index: 1;
}

/* 로그인 섹션은 header 아래에서 전체 높이 계산 */
section {
	position: absolute;
	top: 60px; /* header 높이에 맞춰 조정 (헤더가 60px일 경우) */
	bottom: 0;
	left: 0;
	right: 0;
	display: flex;
	justify-content: center;
	align-items: center;
	overflow: hidden;
	/*   background: linear-gradient(135deg, #c2e9fb 0%, #a1c4fd 100%); */
}

/* 카드 영역 */
.card {
	border-radius: 1rem;
	background-color: #fff;
	max-width: 400px;
	width: 90%;
}
</style>

<section>
	<div class="card shadow-lg border-0">
		<div class="card-body p-5 text-center">
			<h2 class="fw-bold text-primary mb-3">로그인</h2>
			<p class="text-muted mb-4">서비스를 이용하시려면 로그인해주세요</p>

			<form action="/login" method="POST">
				<div class="mb-3 text-start">
					<label class="form-label text-black fw-semibold">아이디</label>
					<input type="text" class="form-control" name="username" placeholder="아이디를 입력하세요" required />
				</div>

				<div class="mb-3 text-start">
					<label class="form-label text-black fw-semibold">비밀번호</label>
					<input type="password" class="form-control" name="password" placeholder="비밀번호를 입력하세요" required />
				</div>

				<button type="submit" class="btn btn-primary w-100 py-2">
					로그인 <i class="bi bi-box-arrow-in-right"></i>
				</button>
			</form>

			<button type="button" class="btn btn-outline-secondary w-100 mt-3 py-2"
				onclick="location.href='/signup'">회원가입</button>
		</div>
	</div>
</section>

<script>
	<!-- 로그인 페이지 접속 시 세션스토리지 초기화 -->
	document.addEventListener("DOMContentLoaded" ,function(){
		sessionStorage.setItem('initialNtcnShown', 'false')
	    sessionStorage.removeItem('lastLoggedInUser');
});
</script>
